<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>气泡船电路板设计及其所接外设硬件原理 - 御坂小镇</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hank.Gan&#039;s Blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hank.Gan&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="# [2020节能减排]气泡船电路板设计及其所接外设硬件原理 气泡船电路板的前期设计规划    设备 数量 供电 控制方式     动力电机 2 24V供电 120W额定功率 PWM+5V+方向IO+GND   船方向舵机 2 24V供电 约 24W功率 PWM+5V+GND x 2   迪文串口屏 1 5-15V供电 232电平串口通信   mpu6050角度&amp;#x2F;加速度 1 3.3V供电 I2C通"><meta property="og:type" content="blog"><meta property="og:title" content="气泡船电路板设计及其所接外设硬件原理"><meta property="og:url" content="http://example.com/2020/02/06/%E6%B0%94%E6%B3%A1%E8%88%B9%E7%94%B5%E8%B7%AF%E6%9D%BF%E8%AE%BE%E8%AE%A1%E5%8F%8A%E5%85%B6%E6%89%80%E6%8E%A5%E5%A4%96%E8%AE%BE%E7%A1%AC%E4%BB%B6%E5%8E%9F%E7%90%86/"><meta property="og:site_name" content="御坂小镇"><meta property="og:description" content="# [2020节能减排]气泡船电路板设计及其所接外设硬件原理 气泡船电路板的前期设计规划    设备 数量 供电 控制方式     动力电机 2 24V供电 120W额定功率 PWM+5V+方向IO+GND   船方向舵机 2 24V供电 约 24W功率 PWM+5V+GND x 2   迪文串口屏 1 5-15V供电 232电平串口通信   mpu6050角度&amp;#x2F;加速度 1 3.3V供电 I2C通"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://s2.ax1x.com/2020/02/05/1s7h2n.jpg"><meta property="og:image" content="https://s2.ax1x.com/2020/02/05/1sOFmt.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/05/1sv10I.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/05/1ySpp8.gif"><meta property="og:image" content="https://s2.ax1x.com/2020/02/05/1ySGA1.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/05/1ypnUI.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/16cZA1.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/16c3Bd.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/16hc59.jpg"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/165ohd.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/16IR8s.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/16HBWQ.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/16Hvfe.png"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/16XEbn.jpg"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/16XQv4.jpg"><meta property="og:image" content="https://s2.ax1x.com/2020/02/06/16XcIP.png"><meta property="article:published_time" content="2020-02-06T12:37:15.000Z"><meta property="article:modified_time" content="2021-08-10T08:56:03.045Z"><meta property="article:author" content="Hank.Gan"><meta property="article:tag" content="硬件"><meta property="article:tag" content="2020节能减排"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://s2.ax1x.com/2020/02/05/1s7h2n.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com/2020/02/06/%E6%B0%94%E6%B3%A1%E8%88%B9%E7%94%B5%E8%B7%AF%E6%9D%BF%E8%AE%BE%E8%AE%A1%E5%8F%8A%E5%85%B6%E6%89%80%E6%8E%A5%E5%A4%96%E8%AE%BE%E7%A1%AC%E4%BB%B6%E5%8E%9F%E7%90%86/"},"headline":"气泡船电路板设计及其所接外设硬件原理","image":["https://s2.ax1x.com/2020/02/05/1s7h2n.jpg","https://s2.ax1x.com/2020/02/05/1sOFmt.png","https://s2.ax1x.com/2020/02/05/1sv10I.png","https://s2.ax1x.com/2020/02/05/1ySpp8.gif","https://s2.ax1x.com/2020/02/05/1ySGA1.png","https://s2.ax1x.com/2020/02/05/1ypnUI.png","https://s2.ax1x.com/2020/02/06/16cZA1.png","https://s2.ax1x.com/2020/02/06/16c3Bd.png","https://s2.ax1x.com/2020/02/06/16hc59.jpg","https://s2.ax1x.com/2020/02/06/165ohd.png","https://s2.ax1x.com/2020/02/06/16IR8s.png","https://s2.ax1x.com/2020/02/06/16HBWQ.png","https://s2.ax1x.com/2020/02/06/16Hvfe.png","https://s2.ax1x.com/2020/02/06/16XEbn.jpg","https://s2.ax1x.com/2020/02/06/16XQv4.jpg","https://s2.ax1x.com/2020/02/06/16XcIP.png"],"datePublished":"2020-02-06T12:37:15.000Z","dateModified":"2021-08-10T08:56:03.045Z","author":{"@type":"Person","name":"Hank.Gan"},"publisher":{"@type":"Organization","name":"御坂小镇","logo":{"@type":"ImageObject","url":{"light":"/img/logo.png","dark":"/img/logo.png"}}},"description":"# [2020节能减排]气泡船电路板设计及其所接外设硬件原理 气泡船电路板的前期设计规划    设备 数量 供电 控制方式     动力电机 2 24V供电 120W额定功率 PWM+5V+方向IO+GND   船方向舵机 2 24V供电 约 24W功率 PWM+5V+GND x 2   迪文串口屏 1 5-15V供电 232电平串口通信   mpu6050角度&#x2F;加速度 1 3.3V供电 I2C通"}</script><link rel="canonical" href="http://example.com/2020/02/06/%E6%B0%94%E6%B3%A1%E8%88%B9%E7%94%B5%E8%B7%AF%E6%9D%BF%E8%AE%BE%E8%AE%A1%E5%8F%8A%E5%85%B6%E6%89%80%E6%8E%A5%E5%A4%96%E8%AE%BE%E7%A1%AC%E4%BB%B6%E5%8E%9F%E7%90%86/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><script type="text/javascript" src="/js/imaegoo/night.js"></script><canvas id="universe"></canvas><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img class="logo-img" src="/img/logo.png" alt="御坂小镇" height="28"><img class="logo-img-dark" src="/img/logo.png" alt="御坂小镇" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">时间轴</a><a class="navbar-item" href="/categories">目录</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ganyunhan"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2020-02-06T12:37:15.000Z" title="2020/2/6 下午8:37:15">2020-02-06</time>发表</span><span class="level-item"><time dateTime="2021-08-10T08:56:03.045Z" title="2021/8/10 下午4:56:03">2021-08-10</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%A1%AC%E4%BB%B6/">硬件</a></span><span class="level-item">19 分钟读完 (大约2798个字)</span><span class="level-item leancloud_visitors" id="/2020/02/06/%E6%B0%94%E6%B3%A1%E8%88%B9%E7%94%B5%E8%B7%AF%E6%9D%BF%E8%AE%BE%E8%AE%A1%E5%8F%8A%E5%85%B6%E6%89%80%E6%8E%A5%E5%A4%96%E8%AE%BE%E7%A1%AC%E4%BB%B6%E5%8E%9F%E7%90%86/" data-flag-title="气泡船电路板设计及其所接外设硬件原理"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="twikoo_visitors"><i class="fa fa-spinner fa-spin"></i></span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">气泡船电路板设计及其所接外设硬件原理</h1><div class="content"><h2 id="节能减排气泡船电路板设计及其所接外设硬件原理"># [2020节能减排]气泡船电路板设计及其所接外设硬件原理</h2>
<h2 id="气泡船电路板的前期设计规划">气泡船电路板的前期设计规划</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">设备</th>
<th style="text-align: center;">数量</th>
<th style="text-align: center;">供电</th>
<th style="text-align: center;">控制方式</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">动力电机</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">24V供电 120W额定功率</td>
<td style="text-align: center;">PWM+5V+方向IO+GND</td>
</tr>
<tr class="even">
<td style="text-align: center;">船方向舵机</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">24V供电 约 24W功率</td>
<td style="text-align: center;">PWM+5V+GND x 2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">迪文串口屏</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">5-15V供电</td>
<td style="text-align: center;">232电平串口通信</td>
</tr>
<tr class="even">
<td style="text-align: center;">mpu6050角度/加速度</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">3.3V供电</td>
<td style="text-align: center;">I2C通信</td>
</tr>
<tr class="odd">
<td style="text-align: center;">气泵</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">12V供电 35W额定功率</td>
<td style="text-align: center;">PWM占空比控制喷气量</td>
</tr>
<tr class="even">
<td style="text-align: center;">电磁阀</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">12V电压</td>
<td style="text-align: center;">开关，常闭，继电器/MOS管控制 一个IO口</td>
</tr>
<tr class="odd">
<td style="text-align: center;">流量计</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">5V供电</td>
<td style="text-align: center;">IO口测频率</td>
</tr>
<tr class="even">
<td style="text-align: center;">移动配载平台</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">12V供电 约36W功率</td>
<td style="text-align: center;">PWM + 5V+方向IO</td>
</tr>
<tr class="odd">
<td style="text-align: center;">电流传感器</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">3.3V供电</td>
<td style="text-align: center;">I2C通信</td>
</tr>
<tr class="even">
<td style="text-align: center;">WiFi通信</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">3.3V供电</td>
<td style="text-align: center;">TTL串口通信</td>
</tr>
</tbody>
</table>
<p>以上是气泡船预计所要接的全部外设，结合上述统计，分配供电，作出下列框图： <span id="more"></span> <img src="https://s2.ax1x.com/2020/02/05/1s7h2n.jpg" alt="板子设计" /></p>
<p>接下来对每一个外设硬件进行原理讲述</p>
<hr />
<h2 id="外设硬件原理描述">外设硬件原理描述</h2>
<h3 id="动力电机">1.动力电机</h3>
<p>选用的动力电机为<a target="_blank" rel="noopener" href="https://item.taobao.com/item.htm?spm=a230r.1.14.1.794aba74DfvzL3&amp;id=544576215547&amp;ns=1&amp;abbucket=17#detail">时代超群直流无刷伺服电机</a>，这个电机自带编码器和驱动，因此我们不需要考虑丢步的问题，同时，也因为自带了驱动，控制方面也很简单，只需要控制<strong>电机的正反转</strong>和<strong>电机的速度</strong>即可。 因此，控制动力电机只需要开一个<code>PWM</code>通过调节占空比来进行速度调整，再开一个<code>I/O</code>进行方向控制即可</p>
<p><img src="https://s2.ax1x.com/2020/02/05/1sOFmt.png" alt="动力电机控制波形简图" /> 通过给PU的脉冲的占空比来控制转速，占空比转速范围10% ~ 90%代表 0 ~ Max_ Speed<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> 。PU的频率为1K~ 10K任意值 <span class="math display">\[PU占空比 = (目标转速/3000) * 0.8 + 0.1\]</span> 例如，如果我要设置转速为2000，那么占空比应为<span class="math display">\[PU2000 = (2000/3000) * 0.8 + 0.1 = 0.633\]</span></p>
<p>控制方向的<code>I/O</code>只需要输出高低电平就能达到目标 综上，分别打开<code>PE9</code>和<code>PE11</code>这两个连接在<code>TIM1</code>上的PWM输出通道分别控制左右两个动力电机的速度，<code>PE10</code>和<code>PE12</code>分别控制左右两个动力电机的方向。 <img src="https://s2.ax1x.com/2020/02/05/1sv10I.png" alt="动力电机引脚部署" /></p>
<h3 id="船方向舵机">2.船方向舵机</h3>
<p><a target="_blank" rel="noopener" href="https://item.taobao.com/item.htm?spm=a230r.1.14.13.1a85154fN5Jvou&amp;id=566391004488&amp;ns=1&amp;abbucket=17#detail">方向舵机</a>的控制原理与动力电及类似，且相较于动力电机，它少了一个控制正反转的接口，是因为舵机是靠检测输入的<code>PWM占空比</code>来转动相应角度的，也就是说，每一个占空比对应一个固定的角度，因此，要控制它的正反转只需要改变占空比的大小即可。 <img src="https://s2.ax1x.com/2020/02/05/1ySpp8.gif" alt="PWM控制舵机原理" /> 综上，分别打开<code>PA1</code>和<code>PA2</code>这两个连接在<code>TIM2</code>上的PWM输出通道分别控制左右两个舵机的角度 <img src="https://s2.ax1x.com/2020/02/05/1ySGA1.png" alt="舵机引脚部署" /></p>
<h3 id="迪文串口屏">3.迪文串口屏</h3>
<p>选用的为<a target="_blank" rel="noopener" href="https://item.taobao.com/item.htm?spm=a1z0d.6639537.1997196601.130.181c7484TYpyed&amp;id=533839985786">DMT10768T097_19WT</a>的9.7寸工业级串口屏。这个串口屏的通信采用232电平下的UART串口通信，因此在主控板上需要加一个MAX232电平转换芯片，MAX232的原理<a target="_blank" rel="noopener" href="http://www.elecfans.com/dianzichangshi/20171018566193.html">点击这里</a>，那么控制它就简单了，只需要单片机引出一对UART通信接口，再将通信接口连到MAX232转换一下电平即可，下面是设计的原理图： <img src="https://s2.ax1x.com/2020/02/05/1ypnUI.png" alt="1ypnUI.png" /> 其中，<code>DISPALY TX/RX</code>接在串口屏上，<code>Screen TX/RX</code>分别接在<code>PC10</code>和<code>PC11</code></p>
<h3 id="mpu6050">4.mpu6050</h3>
<p>mpu6050实际上就是两个传感器，一个陀螺仪角度传感器，一个加速度传感器。陀螺仪的原理是，一个旋转物体的旋转轴所指的方向在不受外力影响时不会改变，利用这个特性，可以精确地确定运动物体的方位。而加速度传感器的原理是，传感器在加速过程中，通过对质量块所受惯性力的测量，利用牛顿第二定律获得加速度值。 <img src="https://s2.ax1x.com/2020/02/06/16cZA1.png" alt="mpu6050" /> mpu6050和嵌入式控制器之间的通信方式为<a target="_blank" rel="noopener" href="https://baike.so.com/doc/2811525-2967431.html">I2C通信</a>，其本质是一根数据线，一根时钟线，通过时钟线保持mpu6050与嵌入式控制器时钟信号的同步，然后利用数据线进行数据传输。注意一点，STM32要能随意地读取mpu6050采集到的信息，所以在编写程序的时候mpu6050应该是I2C通信的从机，而STM32应该是主机。但一般mpu6050的驱动程序已经封装好了，各种寄存器和通信方式都已经配置地很成熟，无需再从零开始造轮子。 <img src="https://s2.ax1x.com/2020/02/06/16c3Bd.png" alt="I2C通信简易时序图" /> 综上，分别打开<code>PB10</code>和<code>PB11</code>这一组硬件I2C接口，既然STM32这么高级，都有硬件I2C了，为啥还需要大费周章一行一行的写I2C时序代码呢(摊手.jpg</p>
<h3 id="气泵">5.气泵</h3>
<pre><code>气泵也许是这个项目最简单的被控器件了，可惜并不是</code></pre>
<p>在小组讨论以后，按照指导老师的要求，我们本该寻找一种可以控制开合程度的电磁阀来控制喷气速率的，但是遗憾的是，我们翻遍了整个淘宝都没找到这种高级的电磁阀(仿佛嗅到了商机 因此，我不得不调整一下思路，既然不能在传播过程中控制喷气速率，那就只能在源头上解决了。 所以，对气泵的控制方式显得格外重要。结合模电学过的MOSFET的知识，可以知道，MOS管是个通过改变栅源电压V<sub>GS</sub>控制漏极电流I<sub>D</sub>的器件： <img src="https://s2.ax1x.com/2020/02/06/16hc59.jpg" alt="N沟道MOSFET特性曲线" /> 利用其转移特性，我们可以通过控制栅源电压有效值来改变输入气泵的电流，以此来改变气泵的功率（气泵输入电压为12V定值），进而达到了控制喷气量的目的。 控制栅源电压的有效值就更简单了，我们只需要让STM32输出一组PWM，改变PWM的占空比即可改变输出电压有效值，为了让控制效果更直观，可以加一个LED显示电流大小。 选型费了不少功夫，我预期的安全电流I<sub>D</sub>为10A，V<sub>GS</sub>为10V，找到了AOD4184这一款NMOS <img src="https://s2.ax1x.com/2020/02/06/165ohd.png" alt="AOD4184" /> 但它的限制功率可能有些低，于是将两个相同的AOD4184并联就行了，再加上限流电阻等等元器件，设计好的具体原理图如下 <img src="https://s2.ax1x.com/2020/02/06/16IR8s.png" alt="喷气量控制模块" /> 于是，整个气泵的控制模块就被设计出来了，通过STM32上连接在<code>TIM3</code>的<code>PA6</code>引脚输出可控占空比的PWM波，通过一个限流电阻输入到两个并联NMOS的栅极，来控制连接在12V气泵的电流/功率大小，进而控制喷气量。</p>
<h3 id="电磁阀">6.电磁阀</h3>
<pre><code>事实证明，电磁阀才是最容易控制的器件</code></pre>
<p>电磁阀的控制只用到了一个<code>I/O</code>口，利用其高低电平的输出来控制电磁阀的通断。</p>
<h3 id="流量计">7.流量计</h3>
<p>我们选用了这一款<a target="_blank" rel="noopener" href="https://item.taobao.com/item.htm?spm=a230r.1.14.20.11a4748aSz9fHm&amp;id=524816495441&amp;ns=1&amp;abbucket=17#detail">流量计</a>，它是利用气流对流量计内部的一个小涡轮冲击使其旋转，旋转的情况被侧边的霍尔传感器感知，然后产生一个方波，我们通过读出输入STM32的方波频率就可以知道气体流量了，具体公式如下 <span class="math display">\[f=(5.5*Q)\]</span> <span class="math display">\[Q=L/Min\]</span> <strong>注意：</strong>这里的设计有问题，在实际组装器件的时候给流量计的供电是3.3V，否则有可能会烧坏STM32</p>
<p>为了读出流量计霍尔元件产生的方波频率，打开了一个<code>外部中断I/O</code>，对应管脚<code>PA3</code>，通过定时器外部中断，每进一次中断<code>AIR_FREQ</code>值+1，0.1s为一个周期，这样就可以测出方波的频率，再对照上述公式就可以算出气体流量</p>
<h3 id="移动配载平台">8.移动配载平台</h3>
<p>移动配载平台的本质就是一个步进电机，通过步进电机带动丝杆转动来完成平台的移动，这是一个机械原理，不做过多解释<img src="https://s2.ax1x.com/2020/02/06/16HBWQ.png" alt="移动配载平台" /> 而步进电机的详细控制方法和上面的动力电机相同，不过多赘述。</p>
<h3 id="电流传感器">9.电流传感器</h3>
<p>电流传感器采用了TI家的INA226芯片，利用的是“加压求流”的原理，将一个100Ω的电阻串联到电源电路里，然后利用INA226的模数转换测出这个电阻两端的电压，进而就可以得到电源电路的电流。原理图如下 <img src="https://s2.ax1x.com/2020/02/06/16Hvfe.png" alt="电流传感器" /> STM32只需要通过I2C通信与INA226连接，接收INA226传入的电流数据即可。</p>
<h3 id="wifi通信">10.WIFI通信</h3>
<p>WIFI通信利用的是ESP8266模块，ESP8266操作十分简便，几个AT指令便可以完成设置 STM32与ESP8266模块之间的通信利用TTL电平的UART串口通信即可。 下面列一下几个重要的AT指令： <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.AT+RST            #功能：重启模块</span><br><span class="line">2.AT+CWMODE=&lt;mode&gt;  #功能：mode=1 :Station模式（接收模式）mode=2：AP模式（发送模式）mode=3：AP+Station模式</span><br><span class="line">3.AT+CWLIF          #功能：查看已接入设备的 IP</span><br><span class="line">4.AT+CIFSR          #功能：查看本模块的 IP 地址</span><br><span class="line">5.AT+CWJAP=&lt;ssid&gt;,&lt;pwd&gt; #功能：加入当前无线网络 </span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">说明： &lt;ssid&gt;:字符串参数，接入点名称</span><br><span class="line">&lt;pwd&gt;:字符串参数，密码，最长64字节ASCII</span><br><span class="line">响应：正确： OK</span><br><span class="line">错误： ERROR </span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">            </span><br></pre></td></tr></table></figure></p>
<table>
<tbody>
<tr class="odd">
<td>## 电路板设计</td>
</tr>
<tr class="even">
<td>### 原理图</td>
</tr>
<tr class="odd">
<td><img src="https://s2.ax1x.com/2020/02/06/16XEbn.jpg" alt="原理图" /></td>
</tr>
<tr class="even">
<td>### PCB图</td>
</tr>
<tr class="odd">
<td><img src="https://s2.ax1x.com/2020/02/06/16XQv4.jpg" alt="PCB图" /></td>
</tr>
<tr class="even">
<td>### 电路板3D效果图</td>
</tr>
<tr class="odd">
<td><img src="https://s2.ax1x.com/2020/02/06/16XcIP.png" alt="16XcIP.png" /></td>
</tr>
</tbody>
</table>
<p><code>期待比赛取得好成绩！！</code></p>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>Max_ Speed为位置模式保存的目标转速，通过设置这个参数，可以更精确的控制需要的转速，也不用担心出现超过所设定的速度<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</div><div class="article-licensing box"><div class="licensing-title"><p>气泡船电路板设计及其所接外设硬件原理</p><p><a href="http://example.com/2020/02/06/气泡船电路板设计及其所接外设硬件原理/">http://example.com/2020/02/06/气泡船电路板设计及其所接外设硬件原理/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Hank.Gan</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2020-02-06</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-08-10</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E7%A1%AC%E4%BB%B6/">硬件</a><a class="link-muted mr-2" rel="tag" href="/tags/2020%E8%8A%82%E8%83%BD%E5%87%8F%E6%8E%92/">2020节能减排</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=6112427332901f00128883e9&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat.png" alt="微信"></span></a></div></div></div><div class="card"><nav class="post-navigation mt-4 level is-mobile card-content"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/02/14/Python%E5%9F%BA%E7%A1%80%EF%BC%9A%E6%93%8D%E4%BD%9Clist%E4%BB%A5%E5%8F%8Atuple%E7%9A%84%E5%BC%95%E5%85%A5/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Python基础：操作list以及tuple的引入</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/02/05/2020.2.1-2020.2.2%20Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/"><span class="level-item">2020.2.1-2020.2.2 Python基础学习</span><i class="level-item fas fa-chevron-right"></i></a></div></nav></div><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="SOHUCS" sid="2020/02/06/气泡船电路板设计及其所接外设硬件原理/"></div><script charset="utf-8" src="https://changyan.sohu.com/upload/changyan.js"></script><script>window.changyan.api.config({appid: 'cyuFI1qRp',conf: 'prod_11b7b7671b8d9690e2692103abfb9cf0'});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.jpg" alt="Misaka Misaka"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Misaka Misaka</p><p class="is-size-6 is-block">穷则独善其身，达则兼济天下</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>湖北武汉</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">7</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://weibo.com/p/1005056784549537" target="_blank" rel="noopener" id="widget-follow">微博 Weibo</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ganyunhan"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Bili" href="https://space.bilibili.com/343157606">Bili</a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Mail" href="Mailto:hank.gan@foxmail.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="QQ" href="tencent://message/?uin=1014947300&amp;Site=&amp;Menu=yes"><i class="fab fa-qq"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://space.bilibili.com/343157606" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bilibili空间</span></span><span class="level-right"><span class="level-item tag">space.bilibili.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://blog.vacabun.ml/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">vacabun</span></span><span class="level-right"><span class="level-item tag">blog.vacabun.ml</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://blog.kcqnly.top/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">kcqnly</span></span><span class="level-right"><span class="level-item tag">blog.kcqnly.top</span></span></a></li></ul></div><a class="link-more button is-light is-small size-small" href="/friends/">查看更多</a></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E7%A1%AC%E4%BB%B6/"><span class="level-start"><span class="level-item">硬件</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/"><span class="level-start"><span class="level-item">FPGA</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/Bus-Core/"><span class="level-start"><span class="level-item">Bus&amp;Core</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/Verilog-HDL/"><span class="level-start"><span class="level-item">Verilog HDL</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/%E8%BD%AF%E4%BB%B6/"><span class="level-start"><span class="level-item">软件</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%BD%AF%E4%BB%B6/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">九月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">三月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">二月 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-09-04T08:00:23.000Z">2021-09-04</time></p><p class="title"><a href="/2021/09/04/%E3%80%902021%E9%9B%86%E5%88%9B%E8%B5%9B%E3%80%91Cortex-M3%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E5%A3%B0%E6%BA%90%E5%AE%9A%E4%BD%8D%E7%B3%BB%E7%BB%9F/">【2021集创赛】Cortex-M3语音识别声源定位系统</a></p><p class="categories"><a href="/categories/%E7%A1%AC%E4%BB%B6/">硬件</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/">FPGA</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/Bus-Core/">Bus&amp;Core</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-09-01T13:50:36.000Z">2021-09-01</time></p><p class="title"><a href="/2021/09/01/%E5%BC%82%E6%AD%A5FIFO%E7%9A%84%E8%AE%BE%E8%AE%A1/">跨时钟域的典型：异步FIFO的设计</a></p><p class="categories"><a href="/categories/%E7%A1%AC%E4%BB%B6/">硬件</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/">FPGA</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/Verilog-HDL/">Verilog HDL</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-28T13:47:50.000Z">2021-08-28</time></p><p class="title"><a href="/2021/08/28/AMBA3%E2%80%94AHB%E6%80%BB%E7%BA%BF/">AMBA3—AHB总线(一)</a></p><p class="categories"><a href="/categories/%E7%A1%AC%E4%BB%B6/">硬件</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/">FPGA</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/Bus-Core/">Bus&amp;Core</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-24T13:02:36.000Z">2021-08-24</time></p><p class="title"><a href="/2021/08/24/CORE%E5%AD%A6%E4%B9%A0%EF%BC%9AAMBA3--APB%E6%80%BB%E7%BA%BF%E5%8D%8F%E8%AE%AE%E5%8F%8A%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90/">CORE学习：AMBA3--APB总线协议及简单例子</a></p><p class="categories"><a href="/categories/%E7%A1%AC%E4%BB%B6/">硬件</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/">FPGA</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/Bus-Core/">Bus&amp;Core</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-11T08:39:44.000Z">2021-08-11</time></p><p class="title"><a href="/2021/08/11/FPGA%E5%AD%A6%E4%B9%A0%EF%BC%9A%E7%8A%B6%E6%80%81%E6%9C%BA%E5%8C%96%E7%AE%80-Testbench/">FPGA学习：状态机化简&amp;Testbench</a></p><p class="categories"><a href="/categories/%E7%A1%AC%E4%BB%B6/">硬件</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/">FPGA</a> / <a href="/categories/%E7%A1%AC%E4%BB%B6/FPGA/Verilog-HDL/">Verilog HDL</a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/2020%E8%8A%82%E8%83%BD%E5%87%8F%E6%8E%92/"><span class="tag">2020节能减排</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bus-Core/"><span class="tag">Bus&amp;Core</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FPGA/"><span class="tag">FPGA</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Verilog-HDL/"><span class="tag">Verilog HDL</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A1%AC%E4%BB%B6/"><span class="tag">硬件</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AF%E4%BB%B6/"><span class="tag">软件</span><span class="tag">4</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img class="logo-img" src="/img/logo.png" alt="御坂小镇" height="28"><img class="logo-img-dark" src="/img/logo.png" alt="御坂小镇" height="28"></a><p class="is-size-7"><span>&copy; 2021 Hank.Gan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/imaegoo/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><a href="http://www.miitbeian.gov.cn" target="_blank">鄂ICP备2021002622号</a> - <span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Github" href="https://github.com/ganyunhan"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Mail" href="Mailto:hank.gan@foxmail.com"><i class="fa fa-envelope"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="QQ" href="tencent://message/?uin=1014947300&amp;Site=&amp;Menu=yes"><i class="fab fa-qq"></i></a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用 Cookie，以启用评论系统和分析功能。",
          dismiss: "知道了",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><div class="searchbox-pinyin"><label class="checkbox"><input id="search-by-pinyin" type="checkbox" checked="checked"><span> 拼音检索</span></label></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/imaegoo/pinyin.js" defer></script><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script type="text/javascript" src="/js/imaegoo/imaegoo.js"></script><script type="text/javascript" src="/js/imaegoo/universe.js"></script><script type="text/javascript" src="/js/live2d/autoload.js"></script></body></html>